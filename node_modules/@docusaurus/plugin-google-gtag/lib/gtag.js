"use strict";
/**
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const globalData_1 = tslib_1.__importDefault(require("@generated/globalData"));
const { trackingID } = globalData_1.default['docusaurus-plugin-google-gtag']
    .default;
const clientModule = {
    onRouteDidUpdate({ location, previousLocation }) {
        if (previousLocation && location.pathname !== previousLocation.pathname) {
            // Always refer to the variable on window in case it gets overridden
            // elsewhere.
            window.gtag('config', trackingID, {
                page_path: location.pathname,
                page_title: document.title,
            });
            window.gtag('event', 'page_view', {
                page_title: document.title,
                page_location: window.location.href,
                page_path: location.pathname,
            });
        }
    },
};
exports.default = clientModule;
